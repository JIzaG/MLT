<tc-card class="mb-0">
    <tc-table [rows]="citas" [hovered]="true" [pagination]="true">

      <tc-table-col [columnTitle]="'Nombre del Paciente'" [columnName]="'pacienteC'" [enableSorting]="true">
        <ng-template #tableTDTemplate let-value>
          <strong>{{ value }}</strong>
        </ng-template>
      </tc-table-col>
      <tc-table-col [columnTitle]="'Identidad del Paciente'" [columnName]="'identidadPACC'" [enableSorting]="true">
        <ng-template #tableTDTemplate let-value>
          <strong>{{ value }}</strong>
        </ng-template>
      </tc-table-col>
      <tc-table-col [columnTitle]="'Fecha Cita Clínica'" [columnName]="'fechaC'" [enableSorting]="true">
        <ng-template #tableTDTemplate let-value>
          <span class="nowrap" [tcColor]="'#a5a5a5'">{{ value }}</span>
        </ng-template>
      </tc-table-col>
      <tc-table-col [columnTitle]="'Hora'" [columnName]="'hi'" [enableSorting]="true">
        <ng-template #tableTDTemplate let-value>
          <span class="nowrap" [tcColor]="'#a5a5a5'">{{ value }}</span>
        </ng-template>
      </tc-table-col>
      <tc-table-col [columnTitle]="'Hora'" [columnName]="'hf'" [enableSorting]="true">
        <ng-template #tableTDTemplate let-value>
          <span class="nowrap" [tcColor]="'#a5a5a5'">{{ value }}</span>
        </ng-template>
      </tc-table-col>
      <tc-table-col [columnTitle]="'Teléfono'" [columnName]="'telefono'">
        <ng-template #tableTDTemplate let-value>
          <span class="d-flex align-items-center nowrap" [tcColor]="'#336cfb'">
            <tc-icon [iconClass]="'icofont-ui-cell-phone'" [tcFontSize]="16" [padding]="0" class="mr-1"></tc-icon>
            {{ value }}
          </span>
        </ng-template>
      </tc-table-col>
      <tc-table-col [columnTitle]="'Doctor'" [columnName]="'doctor'" [enableSorting]="true"></tc-table-col>
      <tc-table-col [columnTitle]="'Procedimiento'" [columnName]="'procedimiento'"></tc-table-col>
      <tc-table-col [columnTitle]="'Acciones'" [columnName]="'actions'">
        <ng-template #tableTDTemplate let-row="row">
          <div class="actions">
            <button
              tc-button
              [afterIcon]="'icofont-ui-edit'"
              [view]="'info'"
              [square]="true"
              [tcShape]="500"
              [size]="'sm'"
              (click)="edit(row)"
            ></button>
  
            <button
              tc-button
              [afterIcon]="'icofont-ui-delete'"
              [view]="'error'"
              [square]="true"
              [tcShape]="500"
              [size]="'sm'"
              (click)="eliminarAgenda(row.id)"
            ></button>
          </div>
        </ng-template>
      </tc-table-col>
    </tc-table>
  </tc-card>
  
  <div class="add-action-box">
    <button
      tc-button
      [afterIcon]="'icofont-stethoscope-alt'"
      [view]="'accent'"
      [square]="true"
      [tcShape]="500"
      (click)="openModal(modalBody, 'Agendar Cita', modalFooter)"
    ></button>
  </div>
  
  <!-- Modal window -->
  <ng-container>
    <ng-template #modalBody>
      <form [formGroup]="citasForm" novalidate>
  
        <tc-form-group>
          <tc-input [placeholder]="'Nombre'" formControlName="nombre" [(ngModel)]="nombre"></tc-input>
        </tc-form-group>
  
        <tc-form-group>
          <tc-autocomplete [placeholder]="'Doctor'"  formControlName="doctor"[(ngModel)]="doctor"></tc-autocomplete>
        </tc-form-group>
  
        <tc-form-group>
          <tc-input [placeholder]="'Email'" formControlName="email" [(ngModel)]="email"></tc-input>
        </tc-form-group>
  
        <tc-form-group>
          <tc-input [placeholder]="'Fecha'" formControlName="fecha" [(ngModel)]="fecha"></tc-input>
        </tc-form-group>
  
        <div class="row">
          <div class="col col-md-6">
            <tc-form-group>
              <tc-input [placeholder]="'Inicio 00:00'" formControlName="hi" [(ngModel)]="hi"></tc-input>
            </tc-form-group>
          </div>
  
          <div class="col col-md-6">
            <tc-form-group>
              <tc-input [placeholder]="'Final 00:00'" formControlName="hf"[(ngModel)]="hf"></tc-input>
            </tc-form-group>
          </div>
        </div>
  
        <tc-form-group>
          <tc-input [placeholder]="'Teléfono'" formControlName="telefono"[(ngModel)]="telefono"></tc-input>
        </tc-form-group>
  
        <tc-form-group class="mb-0">
          <tc-input [placeholder]="'Procedimiento'" formControlName="procedimiento"[(ngModel)]="procedimiento"></tc-input>
        </tc-form-group>
      </form>
    </ng-template>
  
    <ng-template #modalFooter>
      <div class="actions justify-content-between">
        <button tc-button [type]="'button'" [view]="'error'" (click)="closeModal()">Cancel</button>
        <button tc-button [view]="'info'"  (click)="closeModal()">Actualizar</button>
        <button tc-button [view]="'info'"  (click)="closeModal()">Agregar Cita</button>
      </div>
    </ng-template>
  </ng-container>
  <!-- end Modal window -->